const menuToggle = document.getElementById('menuToggle');
let menuOpen = false;

const hamburgerIcon = '<svg width="40" height="40" viewBox="0 0 40 40" fill="currentColor"><path d="M2.22223 34C1.5926 34 1.06519 33.784 0.640008 33.352C0.214823 32.92 0.00148914 32.386 7.66282e-06 31.75C-0.00147382 31.114 0.21186 30.58 0.640008 30.148C1.06816 29.716 1.59556 29.5 2.22223 29.5H37.7778C38.4074 29.5 38.9355 29.716 39.3622 30.148C39.7889 30.58 40.0015 31.114 40 31.75C39.9985 32.386 39.7852 32.9207 39.36 33.3542C38.9348 33.7877 38.4074 34.003 37.7778 34H2.22223ZM2.22223 22.75C1.5926 22.75 1.06519 22.534 0.640008 22.102C0.214823 21.67 0.00148914 21.136 7.66282e-06 20.5C-0.00147382 19.864 0.21186 19.33 0.640008 18.898C1.06816 18.466 1.59556 18.25 2.22223 18.25H37.7778C38.4074 18.25 38.9355 18.466 39.3622 18.898C39.7889 19.33 40.0015 19.864 40 20.5C39.9985 21.136 39.7852 21.6707 39.36 22.1042C38.9348 22.5377 38.4074 22.753 37.7778 22.75H2.22223ZM2.22223 11.5C1.5926 11.5 1.06519 11.284 0.640008 10.852C0.214823 10.42 0.00148914 9.886 7.66282e-06 9.25C-0.00147382 8.614 0.21186 8.08 0.640008 7.648C1.06816 7.216 1.59556 7 2.22223 7H37.7778C38.4074 7 38.9355 7.216 39.3622 7.648C39.7889 8.08 40.0015 8.614 40 9.25C39.9985 9.886 39.7852 10.4207 39.36 10.8542C38.9348 11.2877 38.4074 11.503 37.7778 11.5H2.22223Z"/></svg>';
const backIcon = '<svg width="40" height="40" viewBox="0 0 40 40" fill="currentColor"><path d="M8.84615 22.5154L16.1538 29.6877C16.6667 30.191 16.9128 30.7782 16.8923 31.4493C16.8718 32.1204 16.6256 32.7076 16.1538 33.2109C15.641 33.7143 15.0325 33.9768 14.3282 33.9986C13.6239 34.0205 13.0145 33.7789 12.5 33.2739L0.76923 21.7604C0.256409 21.257 0 20.6698 0 19.9987C0 19.3276 0.256409 18.7404 0.76923 18.2371L12.5 6.72363C13.0128 6.2203 13.6222 5.97955 14.3282 6.00136C15.0342 6.02317 15.6427 6.2849 16.1538 6.78654C16.6239 7.28986 16.8701 7.87707 16.8923 8.54817C16.9145 9.21926 16.6684 9.80647 16.1538 10.3098L8.84615 17.4821H37.4359C38.1624 17.4821 38.7718 17.7237 39.2641 18.2069C39.7564 18.6901 40.0017 19.2874 40 19.9987C39.9983 20.7101 39.7521 21.3082 39.2615 21.7931C38.7709 22.278 38.1624 22.5187 37.4359 22.5154H8.84615Z"/></svg>';

menuToggle.innerHTML = hamburgerIcon;

menuToggle.addEventListener('click', () => {
  const currentSvg = menuToggle.querySelector('svg');
  currentSvg.classList.add('fade-out');

  setTimeout(() => {
    menuOpen = !menuOpen;
    menuToggle.innerHTML = menuOpen ? backIcon : hamburgerIcon;

    const newSvg = menuToggle.querySelector('svg');
    newSvg.classList.add('fade-out');

    void newSvg.offsetWidth;
    newSvg.classList.remove('fade-out');

    document.getElementById('sideMenu')?.classList.toggle('open', menuOpen);
  }, 300);
});
